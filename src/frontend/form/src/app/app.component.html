<div class="container" xmlns="http://www.w3.org/1999/html">
  <div class="header">
    <header class="header">
      <picture>
        <source srcset="./assets/images/logo-no-background.png" type="image/png">
        <img class="header-logo" src="./assets/images/logo-no-background.png" alt="Stock Search Engine Logo" (load)="hideHeadings()" (error)="showHeadings()">
      </picture>
      <ng-container *ngIf="!isLogoLoaded">
        <h1 class="header-title">Stock Search Engine</h1>
        <h2 class="header-subtitle">Ugly, but it works...</h2>
      </ng-container>
    </header>
  </div>


  <div class="left-content">
    <div class="ad-container">
      <p class="ad-description">Place your Ad here...</p>
      <img src="./assets/images/ad1.png" alt="Advertisement 1" class="ad-image" />
    </div>
  </div>

  <div class="right-content">
    <div class="ad-container">
      <p class="ad-description">Place your Ad here...</p>
      <img src="./assets/images/ad2.jpg" alt="Advertisement 2" class="ad-image" />
    </div>
  </div>

  <div class="center-content">

    <!-- Beginning of Form -->
    <div *ngIf="!apiResponse">
      <div class="form">
        <h2>Investment Calculator</h2>
        <p>Enter the amount you want to invest, the start and end date and the stock you want to invest in.</p>
        <form [formGroup]="reactiveForm" (ngSubmit)="onSubmit()">
          <label for="investValue">Investment Amount</label>
          <input type="text" id="investValue" name="investValue" placeholder="Enter Amount" formControlName="investValue">
          <div>
            <span style="color: crimson" *ngIf="reactiveForm.get('investValue').invalid && reactiveForm.get('investValue').touched">Please enter a valid amount</span>
          </div>
          <label for="startDate">Start Date</label>
          <input type="date" min="1980-01-31" max="2999-12-31" id="startDate" name="startDate" formControlName="startDate">
          <div>
            <span style="color: crimson" *ngIf="reactiveForm.get('startDate').invalid && reactiveForm.get('startDate').touched">Please enter a valid date</span>
          </div>
          <label for="endDate">End Date</label>
          <input type="date" min="1980-01-31" max="2999-12-31" id="endDate" name="endDate" formControlName="endDate">
          <div>
            <span style="color: crimson" *ngIf="reactiveForm.get('endDate').invalid && reactiveForm.get('endDate').touched">Please enter a valid date</span>
          </div>
          <label for="stockName">Stock <br></label>
          <select id="stockName" name="stockName" formControlName="stockName">
            <option value="AAL">American Airlines</option>
            <option value="AAPL">Apple</option>
            <option value="ADBE">Adobe</option>
            <option value="AMT">American Tower</option>
            <option value="AMZN">Amazon</option>
            <option value="BA">Boeing</option>
            <option value="BAC">Bank of America</option>
            <option value="CAT">Caterpillar</option>
            <option value="C">Citigroup</option>
            <option value="CRM">Salesforce</option>
            <option value="CSCO">Cisco Systems</option>
            <option value="CVX">Chevron</option>
            <option value="DAL">Delta Air Lines</option>
            <option value="DIS">Disney</option>
            <option value="FB">Facebook</option>
            <option value="FDX">FedEx</option>
            <option value="GOOG">Google</option>
            <option value="GS">Goldman Sachs</option>
            <option value="HD">Home Depot</option>
            <option value="IBM">IBM</option>
            <option value="INTC">Intel</option>
            <option value="JPM">JPMorgan Chase</option>
            <option value="KO">Coca-Cola</option>
            <option value="LMT">Lockheed Martin</option>
            <option value="LOW">Lowe's</option>
            <option value="MCD">McDonald's</option>
            <option value="MMM">3M</option>
            <option value="MRK">Merck & Co.</option>
            <option value="MSFT">Microsoft</option>
            <option value="NFLX">Netflix</option>
            <option value="NKE">Nike</option>
            <option value="NVDA">NVIDIA</option>
            <option value="ORCL">Oracle</option>
            <option value="PEP">PepsiCo</option>
            <option value="PG">Procter & Gamble</option>
            <option value="PYPL">PayPal</option>
            <option value="SBUX">Starbucks</option>
            <option value="T">AT&T</option>
            <option value="TSLA">Tesla</option>
            <option value="UAL">United Airlines</option>
            <option value="UNH">UnitedHealth Group</option>
            <option value="UPS">UPS</option>
            <option value="V">Visa</option>
            <option value="VZ">Verizon</option>
            <option value="WFC">Wells Fargo</option>
            <option value="WMT">Walmart</option>
            <option value="XOM">Exxon Mobil</option>
          </select>
          <div>
            <span style="color: crimson" *ngIf="reactiveForm.get('stockName').invalid && reactiveForm.get('stockName').touched">Please choose a Stock from the List</span>
          </div>
          <label for="submit"></label>
          <input type="submit" id="submit" name="stockValue">
        </form>
      </div>
    </div>

    <!-- Show the Values from the API on the on the page (without the Form) -->
    <div *ngIf="apiResponse">

      <h2>Take a look at your investment:</h2>
      <p>If you would have invested {{investValue}}$ in {{stockName}} at the chosen dates you would have a loss or gain of <strong>{{gainLossValue}}$</strong>. </p>
      <p>Take a look at the all the values below to analyze your investment.</p>
<br>
      <h3>Investment Details:</h3>
      <p>Start Date: {{ startDate }}</p>
      <p>End Date: {{ endDate }}</p>
      <p>Stock Name: {{ stockName }}</p>
      <p>Start Value: {{ startValue }}$</p>
      <p>End Value: {{ endValue }}$</p>
      <p>Invest Value: {{ investValue }}$</p>
      <p>Final Value: {{ finalValue }}$</p>
      <p>Gain/Loss Value: {{ gainLossValue }}$</p>
      <br>
      <br>
      <button onClick="window.location.reload();" class="button">Start Over</button>
      <br>
      <br>
      <button (click)="exportStockData()" class="button">Export CSV</button>
    </div>

    <!-- Not needed everything will be shown on one page
    <app-results
      [startDate]="startDate"
      [endDate]="endDate"
      [stockName]="stockName"
      [startValue]="startValue"
      [endValue]="endValue"
      [investValue]="investValue"
      [finalValue]="finalValue"
      [gainLossValue]="gainLossValue"
    ></app-results>
    -->
  </div>

  <!-- A Footer on the page with some information about this project -->
  <div class="footer">
    <div>
      <ul>
        <li><a href="http://localhost:4200">Home</a></li>
      </ul>
    </div>
    <div>
      <p>&copy; 2023 Stock Search project</p>
      <p class="authors">Authors: Adrian Sch√§rer, Dominic Troll and Manuel Ferretti</p>
      <p class="authors">Application created as project in ZHAW CAS Object Oriented Programming.</p>
    </div>
  </div>

</div>
